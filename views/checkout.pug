extends layout
block content
  .container
    //- prepare div for Mondu Widget
    div(id="mondu-checkout-widget")
    main
      .py-5.text-center
        h2 Checkout form
        p.lead This is a demo checkout for Mondu Payments
      .row.g-5
        .col-md-5.col-lg-4.order-md-last
          h4.d-flex.justify-content-between.align-items-center.mb-3
            span.text-primary Your cart
            span.badge.bg-primary.rounded-pill 3
          ul.list-group.mb-3
            li.list-group-item.d-flex.justify-content-between.lh-sm
              div
                h6.my-0 Product 1
                small.text-muted Brief description
              span.text-muted 5x 200,00
            li.list-group-item.d-flex.justify-content-between.lh-sm
              div
                h6.my-0 Product 2
                small.text-muted Brief description
              span.text-muted 10,00
            li.list-group-item.d-flex.justify-content-between.lh-sm
              div
                h6.my-0 Product
                small.text-muted Brief description
              span.text-muted 10,00
            li.list-group-item.d-flex.justify-content-between
              span Total (EUR)
              strong 1020,00
        .col-md-7.col-lg-8
          h4.mb-3 Billing address
          form.needs-validation(novalidate='' action='/formhandler' method='post' id='checkout-form')
            .row.g-3
              .col-sm-6
                label.form-label(for='firstName') First name
                input#firstName.form-control(type='text' name='firstName' placeholder='' value='Max' required='')
                .invalid-feedback
                  | Valid first name is required.
              .col-sm-6
                label.form-label(for='lastName') Last name
                input#lastName.form-control(type='text' name='lastName' placeholder='' value='Mustermensch' required='')
                .invalid-feedback
                  | Valid last name is required.
              .col-sm-6
                label.form-label(for='companyName') Company name
                input#companyName.form-control(type='text' name='companyName' placeholder='' value='Mondu GmbH' required='')
                .invalid-feedback
                  | Valid last name is required.
              .col-12
                label.form-label(for='email') Email
                select#email.form-select(name='email' required='')
                  option(value='accepted.mondu-node@example.com') accepted@example.com - successful order ‚úÖ
                  option(value='declined.mondu-node@example.com') 	declined@example.com - order decline ‚ùå
                  option(value='pending.mondu-node@example.com') 	pending@example.com - pending order üïí
                  option(value='kyc.mondu-node@example.com') kyc@example.com - KYC is required
                  option(value='openbanking.mondu-node@example.com') openbanking@example.com - open banking identification is required
                .invalid-feedback
                  | Please select a valid email.
                small.text-muted Your email choice defines the Mondu test case to run
              .col-12
                label.form-label(for='address') Address
                input#address.form-control(type='text' name='address' placeholder='1234 Main St' value='Alexanderstr 36' required='')
                .invalid-feedback
                  | Please enter your shipping address.
              .col-12
                label.form-label(for='city')
                  | City
                  span.text-muted
                input#city.form-control(type='text' name='city' placeholder='City' value='Berlin')
              .col-md-5
                label.form-label(for='country') Country
                select#country.form-select(name='country' required='')
                  option(value='DE') Germany
                  option(value='AT') Austria
                  option(value='NL') Netherlands
                  option(value='GB') United Kingdom
                .invalid-feedback
                  | Please select a valid country.
              .col-md-3
                label.form-label(for='zip') Zip
                input#zip.form-control(type='text' name='zip' placeholder='' value='10179' required='')
                .invalid-feedback
                  | Zip code required.
            hr.my-4
            .form-check
              input#same-address.form-check-input(type='checkbox' name='sameAddress' value='true')
              label.form-check-label(for='same-address') Shipping address is the same as my billing address
            hr.my-4
            h4.mb-3 Payment
            .my-3
              .form-check
                input#flexRadioDefault1.form-check-input(type='radio' name='paymentMethod' value='invoice' checked='')
                label.form-check-label(for='flexRadioDefault1')
                  | Mondu Invoice
              .form-check
                input#flexRadioDefault2.form-check-input(type='radio' value='direct_debit' name='paymentMethod')
                label.form-check-label(for='flexRadioDefault2')
                  | Mondu Direct Debit
              .form-check
                input#flexRadioDefault3.form-check-input(type='radio' value='installment' name='paymentMethod')
                label.form-check-label(for='flexRadioDefault3')
                  | Mondu Installment
              .form-check
                input#flexRadioDefault4.form-check-input(type='radio' value='installment_by_invoice' name='paymentMethod')
                label.form-check-label(for='flexRadioDefault4')
                  | Mondu Installment by Invoice (UK only)                
            hr.my-4
            .row.justify-content-center
              .col-8
                button.w-100.btn.btn-primary.btn-lg(type='submit' id='authorize-button') Pay Now
            .row 
              .col
                button.w-100.btn.btn-sm.btn-link(type='submit' id='confirm-button') use legacy Mondu widget

  script(src='javascripts/checkout.js' defer='')
  script(src='javascripts/monduCheckout.js' defer='')
  //- load Mondu widget JS
  script(src='https://checkout.demo.mondu.ai/widget.js' defer='')
